---
id: tun-3149
status: closed
deps: [tun-d150]
links: []
created: 2026-01-27T20:19:07Z
type: task
priority: 2
parent: tun-c2f8
tags: [lsp, reimplementation]
---
# Implement tools/check_file.py tool


## Notes

**2026-01-27T20:19:14Z**

Implement check_file tool for explicit LSP diagnostics.

The agent must call this tool explicitly to get diagnostics (not automatic).

Example:
@tool
async def check_file(filepath: str) -> str:
    '''Check a file for errors using the appropriate language server.'''
    # Use tools/lsp/ client to spawn server, get diagnostics
    # Return formatted diagnostics or empty string if clean

Acceptance: Tool works, returns diagnostics for Python files when ruff/pyright available

**2026-01-27T20:24:47Z**

CLOSED: Design changed. No separate check_file tool needed.

LSP will be called automatically by write_file and update_file tools.
Diagnostics are contextual feedback, not a separate tool.
