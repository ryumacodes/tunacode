---
id: t-6670
status: closed
deps: [t-46de]
links: []
created: 2026-01-26T06:05:27Z
type: task
priority: 2
parent: t-69f0
tags: [architecture, types, protocols]
---
# Narrow StateManagerProtocol into minimal per-tool protocols

Split broad StateManagerProtocol into focused minimal protocols.

Current: StateManagerProtocol exposes everything to all tools.
Target: Each tool sees only what it needs.

Protocols to define:
- TodoProtocol (for todo tools)
- PlanApprovalProtocol (for plan tools)
- AuthorizationProtocol (for permission checks)

Location: src/tunacode/types/

Acceptance:
- Each protocol has single responsibility
- Tools depend on minimal protocol, not full state manager
- Protocols are composable (state manager implements all)
