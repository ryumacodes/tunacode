TunaCode Source Code Structure Tree
====================================

Generated: 2026-01-04
Depth: 0 (root-level analysis)
Source: /Users/tuna/Desktop/tunacode/src/tunacode/

Legend:
  â†’  Dependency direction
  *  Key integration point (seam)
  ğŸ”§  Tool implementation
  ğŸ¨  UI component
  ğŸ§   Core logic
  âš™ï¸  Configuration
  ğŸ“  Documentation/template

src/tunacode/
â”‚
â”œâ”€â”€ ğŸ“¦ Root Module
â”‚   â”œâ”€â”€ __init__.py              # Package marker
â”‚   â”œâ”€â”€ constants.py             # * Global constants, themes, limits
â”‚   â”œâ”€â”€ exceptions.py            # * Exception hierarchy with recovery
â”‚   â””â”€â”€ py.typed                 # Type hint marker
â”‚
â”œâ”€â”€ ğŸ¨ ui/                       # Presentation Layer
â”‚   â”œâ”€â”€ app.py                   # * Main Textual application
â”‚   â”œâ”€â”€ main.py                  # * REPL entry point & orchestration
â”‚   â”œâ”€â”€ shell_runner.py          # TUI shell wrapper
â”‚   â”œâ”€â”€ repl_support.py          # REPL utilities
â”‚   â”œâ”€â”€ styles.py                # Style definitions
â”‚   â”‚
â”‚   â”œâ”€â”€ commands/                # UI command handlers
â”‚   â”‚   â”œâ”€â”€ (slash commands)
â”‚   â”‚   â””â”€â”€ (REPL commands)
â”‚   â”‚
â”‚   â”œâ”€â”€ components/              # Reusable UI components
â”‚   â”‚   â””â”€â”€ (composite widgets)
â”‚   â”‚
â”‚   â”œâ”€â”€ screens/                 # Full-screen modals
â”‚   â”‚   â”œâ”€â”€ setup_screen.py      # Setup wizard
â”‚   â”‚   â”œâ”€â”€ model_picker.py      # Model selection
â”‚   â”‚   â””â”€â”€ (other dialogs)
â”‚   â”‚
â”‚   â”œâ”€â”€ widgets/                 # Custom Textual widgets
â”‚   â”‚   â””â”€â”€ (specialized widgets)
â”‚   â”‚
â”‚   â”œâ”€â”€ renderers/               # Output formatting
â”‚   â”‚   â””â”€â”€ tools/               # Tool-specific renderers
â”‚   â”‚       â”œâ”€â”€ bash_renderer.py
â”‚   â”‚       â”œâ”€â”€ grep_renderer.py
â”‚   â”‚       â”œâ”€â”€ read_file_renderer.py
â”‚   â”‚       â””â”€â”€ (other renderers)
â”‚   â”‚
â”‚   â”œâ”€â”€ headless/                # Non-interactive execution
â”‚   â”‚   â””â”€â”€ (headless mode)
â”‚   â”‚
â”‚   â””â”€â”€ styles/                  # CSS & themes
â”‚       â””â”€â”€ (.tcss files)
â”‚
â”œâ”€â”€ ğŸ§  core/                     # Business Logic Layer
â”‚   â”œâ”€â”€ agents/                  # Agent system
â”‚   â”‚   â”œâ”€â”€ main.py              # * Primary agent orchestration
â”‚   â”‚   â”œâ”€â”€ research_agent.py    # * Codebase research specialist
â”‚   â”‚   â”œâ”€â”€ delegation_tools.py  # Agent tool delegation
â”‚   â”‚   â””â”€â”€ agent_components/    # Agent building blocks
â”‚   â”‚       â”œâ”€â”€ (state modules)
â”‚   â”‚       â””â”€â”€ (tool orchestrators)
â”‚   â”‚
â”‚   â”œâ”€â”€ state/                   # State management
â”‚   â”‚   â””â”€â”€ (application state models)
â”‚   â”‚
â”‚   â”œâ”€â”€ prompting/               # Prompt construction
â”‚   â”‚   â”œâ”€â”€ (prompt builders)
â”‚   â”‚   â””â”€â”€ (template system)
â”‚   â”‚
â”‚   â”œâ”€â”€ setup/                   # Setup wizard logic
â”‚   â”‚   â””â”€â”€ (setup components)
â”‚   â”‚
â”‚   â”œâ”€â”€ background/              # Async task execution
â”‚   â”‚   â””â”€â”€ (background jobs)
â”‚   â”‚
â”‚   â”œâ”€â”€ token_usage/             # Cost tracking
â”‚   â”‚   â”œâ”€â”€ (usage calculation)
â”‚   â”‚   â””â”€â”€ (pricing integration)
â”‚   â”‚
â”‚   â””â”€â”€ logging/                 # Structured logging
â”‚       â””â”€â”€ (log system)
â”‚
â”œâ”€â”€ ğŸ”§ tools/                    # Capabilities Layer
â”‚   â”œâ”€â”€ bash.py                  # * Shell command execution
â”‚   â”œâ”€â”€ grep.py                  # * Content search (regex)
â”‚   â”œâ”€â”€ glob.py                  # * File pattern matching
â”‚   â”œâ”€â”€ read_file.py             # * File reading
â”‚   â”œâ”€â”€ write_file.py            # * File creation
â”‚   â”œâ”€â”€ update_file.py           # * File editing
â”‚   â”œâ”€â”€ list_dir.py              # Directory listing
â”‚   â”œâ”€â”€ web_fetch.py             # HTTP requests
â”‚   â”œâ”€â”€ todo.py                  # TODO list management
â”‚   â”œâ”€â”€ decorators.py            # * Tool decorators (retry, logging)
â”‚   â”œâ”€â”€ xml_helper.py            # XML parsing
â”‚   â”‚
â”‚   â”œâ”€â”€ grep_components/         # Search implementation
â”‚   â”‚   â””â”€â”€ (grep internals)
â”‚   â”‚
â”‚   â”œâ”€â”€ prompts/                 # Tool descriptions
â”‚   â”‚   â””â”€â”€ (tool prompts)
â”‚   â”‚
â”‚   â””â”€â”€ utils/                   # Tool utilities
â”‚       â””â”€â”€ (helper functions)
â”‚
â”œâ”€â”€ âš™ï¸ configuration/            # Settings Layer
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py              # * User preferences
â”‚   â”œâ”€â”€ models.py                # * Model definitions
â”‚   â”œâ”€â”€ models_registry.json     # Model database
â”‚   â”œâ”€â”€ pricing.py               # * Cost calculation
â”‚   â””â”€â”€ defaults.py              # Factory defaults
â”‚
â”œâ”€â”€ ğŸ“Ÿ cli/                      # Command-Line Interface
â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”œâ”€â”€ implementations/     # Command handlers
â”‚   â”‚   â”‚   â””â”€â”€ (command logic)
â”‚   â”‚   â””â”€â”€ slash/               # Slash command specs
â”‚   â”‚       â””â”€â”€ (command definitions)
â”‚   â”‚
â”‚   â”œâ”€â”€ repl_components/         # REPL building blocks
â”‚   â”‚   â””â”€â”€ (reusable parts)
â”‚   â”‚
â”‚
â”œâ”€â”€ ğŸ“š Supporting Modules
â”‚
â”‚   â”œâ”€â”€ indexing/                # Code search infrastructure
â”‚   â”‚   â””â”€â”€ (index building)
â”‚   â”‚
â”‚   â”œâ”€â”€ lsp/                     # Language Server Protocol
â”‚   â”‚   â””â”€â”€ (LSP client)
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                # External integrations
â”‚   â”‚   â”œâ”€â”€ (git operations)
â”‚   â”‚   â”œâ”€â”€ (HTTP client)
â”‚   â”‚   â””â”€â”€ (process management)
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                   # Type definitions
â”‚   â”‚   â””â”€â”€ (common types)
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                   # General utilities
â”‚   â”‚   â”œâ”€â”€ config/              # Config parsing
â”‚   â”‚   â”œâ”€â”€ messaging/           # Message formatting
â”‚   â”‚   â”œâ”€â”€ parsing/             # Text parsing
â”‚   â”‚   â”œâ”€â”€ system/              # System operations
â”‚   â”‚   â””â”€â”€ ui/                  # UI utilities
â”‚   â”‚
â”‚   â”œâ”€â”€ tutorial/                # Interactive tutorials
â”‚   â”‚   â””â”€â”€ (tutorial content)
â”‚   â”‚
â”‚   â”œâ”€â”€ prompts/                 # Prompt templates
â”‚   â”‚   â”œâ”€â”€ research/            # Research prompts
â”‚   â”‚   â”‚   â””â”€â”€ sections/        # Prompt components
â”‚   â”‚   â””â”€â”€ sections/            # General prompts
â”‚   â”‚
â”‚   â””â”€â”€ tools_utils/             # Shared tool utilities
â”‚       â””â”€â”€ (tool helpers)
â”‚
â””â”€â”€ ğŸ—‚ï¸ Data Files (in configuration/)
    â””â”€â”€ models_registry.json     # Model database

====================================
Architecture Layers (Bottom â†’ Top)
====================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Ÿ CLI / ğŸ¨ UI (Presentation)  â”‚  â† User interaction
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ§  Core (Business Logic)       â”‚  â† Agent orchestration
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”§ Tools (Capabilities)        â”‚  â† Agent actions
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš™ï¸ Configuration (Settings)    â”‚  â† App configuration
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

====================================
Dependency Flow
====================================

UI â†’ Core â†’ Tools â†’ Configuration
 â†“
All modules â†’ Types â†’ Exceptions â†’ Constants

====================================
Key Integration Points (Seams)
====================================

Root Module:
  â€¢ constants.py    â†’ Constants used everywhere
  â€¢ exceptions.py   â†’ Exception base for all modules
  â€¢ types/          â†’ Type definitions used everywhere

UI Module:
  â€¢ app.py          â†’ Main application entry
  â€¢ main.py         â†’ REPL orchestration
  â€¢ renderers/      â†’ Tool output display

Core Module:
  â€¢ agents/main.py  â†’ Primary agent logic
  â€¢ state/          â†’ Application state
  â€¢ prompting/      â†’ Prompt construction

Tools Module:
  â€¢ decorators.py   â†’ Tool wrapping
  â€¢ Individual tools â†’ Tool implementations

Configuration Module:
  â€¢ settings.py     â†’ User preferences
  â€¢ models.py       â†’ Model definitions
  â€¢ pricing.py      â†’ Cost tracking

CLI Module:
  â€¢ commands/       â†’ Command implementations
  â€¢ repl_components/ â†’ REPL building blocks

====================================
File Counts by Module
====================================

Root Module:        3 Python files
UI:                 ~20+ Python files + CSS
Core:               ~15+ Python files
Tools:              ~13 Python files
Configuration:      5 Python files + 1 JSON
CLI:                ~10+ Python files + CSS
Supporting Modules: ~30+ Python files

Total:              ~100+ Python files

====================================
Naming Conventions
====================================

Directories/Files:  snake_case
Classes:             CamelCase
Functions/Methods:   snake_case
Constants:           UPPER_SNAKE_CASE
Enums:               CamelCase (class), UPPER_SNAKE_CASE (values)

====================================
Analysis Complete
====================================

Depth: 0 (root-level)
Documentation: 7 MD files generated
Output: /Users/tuna/Desktop/tunacode/docs/codebase-map/structure/

Next: Proceed to depth 1 analysis for detailed subdirectory examination
